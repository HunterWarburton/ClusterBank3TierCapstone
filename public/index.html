<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="google-signin-client_id" content="595295551043-45qsecbu7sjak6l9jg2efm3junopj33k.apps.googleusercontent.com">
  <script src="https://apis.google.com/js/platform.js?onload=renderButton" async defer></script>
  
  <title>Bank3Tier-Cluster with MongoDB</title>
  <link rel="shortcut icon" defer type="image/jpg" href="_img/Cluster.ico"/>

  <!-- Bootstrap 5.1.3 -->
  <!-- CSS only -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

  <!-- Custom css -->
  <link rel="stylesheet" href="./styles/app.css" />
 
  <!-- Babel 7.16.4 -->
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <script src="https://apis.google.com/js/platform.js" async defer></script>


</head>
<body>
  
  <div id="root"></div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r79/three.min.js" crossorigin></script>
  <script src="_img/Cluster.js" defer type="text/javascript"></script>

<!--//Google Signin Button -->
  <div id="my-signin2" data-onsuccess="onSignIn"></div>
  <script>
        function onSuccess(googleUser) {
      console.log('Logged in as: ' + googleUser.getBasicProfile().getName());
    }
    function onFailure(error) {
      console.log(error);
    }
    
    function renderButton() {
      gapi.signin2.render('my-signin2', {
        'scope': 'profile email',
        'width': 240,
        'height': 50,
        'longtitle': true,
        'theme': 'dark',
        'onsuccess': onSuccess,
        'onfailure': onFailure
      });
    }
  </script>
  <script>
    function onSignIn(googleUser) {
         var profile = googleUser.getBasicProfile();
         console.log('ID: ' + profile.getId()); // Do not send to your backend! Use an ID token instead.
         console.log('Name: ' + profile.getName());
         console.log('Image URL: ' + profile.getImageUrl());
         console.log('Email: ' + profile.getEmail()); // This is null if the 'email' scope is not present.
        //
         var id_token = googleUser.getAuthResponse().id_token;
        // console.log(id_token);
        var xhr = new XMLHttpRequest();
        xhr.open('POST', '/login');
        xhr.setRequestHeader('Content-Type', 'application/json');
        xhr.onload = function() {
            console.log('Signed in as: ' + xhr.responseText);
            if(xhr.responseText == 'success'){
                signOut();
                location.assign('/profile')
            }
        };
        xhr.send(JSON.stringify({token : id_token}));
      }
    </script>
  

  <!-- React 17.0.2 and React Router 6.0.2-->
  <script src="https://unpkg.com/react@17/umd/react.development.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js" crossorigin></script>
  <!-- React Router 5.2.1 -->
  <script src="https://unpkg.com/react-router@5.2.1/umd/react-router.min.js" crossorigin></script>
  <script src="https://unpkg.com/react-router-dom@5.2.1/umd/react-router-dom.min.js" crossorigin></script>

  <script src="components/bootComponents/card.js" defer type="text/babel"></script>
  <script src="components/bootComponents/form.js" defer type="text/babel"></script>
  <script src="components/bootComponents/formMessage.js" defer type="text/babel"></script>
  <script src="components/bootComponents/googbutton.js" defer type="text/babel"></script>


  <script src="components/alldata.js" defer type="text/babel"></script>
  <script src="components/balance.js" defer type="text/babel"></script>
  <script src="components/createaccount.js" defer type="text/babel"></script>
  <script src="components/deposit.js" defer type="text/babel"></script>
  <script src="components/home.js" defer type="text/babel"></script>
  <script src="components/login.js" defer type="text/babel"></script>
  <script src="components/navbar.js" defer type="text/babel"></script>
  <script src="components/withdraw.js" defer type="text/babel"></script>
  
  <script src="index.js" defer type="text/babel"></script>

</body>
</html>